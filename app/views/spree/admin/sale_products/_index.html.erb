<% content_for :page_title do %>
  <%= @active_sale.name %>/ <%= @active_sale_event.name %> / <%= Spree.t(:list, scope: [:active_sale, :event, :products, :title]) %>
<% end %>

<% content_for :page_actions do %>
  <%= button_link_to Spree.t(:edit, scope: [:active_sale, :link]), [:edit, :admin, @active_sale], icon: 'edit', id: 'edit_admin_active_sales_link' %>

  <%= button_link_to Spree.t(:edit, scope: [:active_sale, :event, :link]), [:edit, :admin, @active_sale, @active_sale_event], icon: 'arrow-left', id:  'edit_admin_active_sale_events_link' %>

  <%= button_link_to Spree.t(:new, scope: [:active_sale, :event, :link]), [:new, :admin, @active_sale, :active_sale_event], icon: 'plus', id: 'admin_new_active_sale_link' %>
<% end %>

<%= render partial: 'spree/admin/shared/sale_tabs', locals: { current: 'Sale Event Products' } %>

<% single_product_sale = @active_sale_event.single_product_sale? && @sale_products.count >= 1 %>
<% unless single_product_sale %>
  <%= render partial: 'form' %>
<% else %>
  <div class="no-objects-found">
    <%= Spree.t(:single_product_sale_message, scope: [:active_sale, :event]) %>
  </div>
<% end %>

<%= render partial: 'spree/admin/shared/sale_products', locals: { sale_products: single_product_sale ? [@sale_products.first] : @sale_products } %>
